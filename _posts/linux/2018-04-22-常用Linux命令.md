---
layout: post
title: 常用Linux命令
categories: Linux
description: 常用Linux命令
keywords: linux, keyword2
---



- 查看端口占用

  查看端口8080的使用情况：

  ````shell
  netstat -tln | grep 8080
  ````

- 查看端口属于哪个程序

  (list open files) 是一个列出当前系统打开文件的工具

  ````shell
  lsof -i :8080
  用于显示tcp，udp的端口和进程等相关情况：netstat -tunlp
  ````
  ​

- 新开端口

  su 切换到 root 下，输入密码：XXXX，直接执行以下命令：

  ````shell
  0.查看状态：iptables -L -n
  1.以6016 端口为例：/sbin/iptables -I INPUT -p tcp --dport 6016 -j ACCEPT
  2.保存命令：/etc/rc.d/init.d/iptables save
  3.查看状态：/etc/init.d/iptables status
  ````

- 查看进程

  ````shell
  表示查看所有进程里 CMD 是 java 的进程信息： ps -ef | grep java
  查看java进程，-aux 显示所有状态：ps -aux|grep java 
  查看所有进程：ps aux
  用于查看指定端口号的进程情况：netstat -tunlp|grep 端口号
  ````

- 查看程序是否运行

  ````shell
  查看 java 进程： ps -ef|grep java
  查看 tomcat 进程： ps -ef|grep tomcat
  ````

- 终止进程

  ````shell
  终止进程号位19979的进程：kill -9 19979
  优雅的停止：kill 进程号
  ````

- netstat 命令介绍

  netstat命令用于显示与IP、TCP、UDP和ICMP协议相关的统计数据，一般用于检验本机各端口的网络连接情况  

  -a 显示一个所有的有效连接信息列表(包括已建立的连接，也包括监听连接请求的那些连接)  

  -n 显示所有已建立的有效连接  

  -t tcp协议  

  -u udp协议  

  -l 查询正在监听的程序  

  -p 显示正在使用socket的程序识别码和程序名称  

  ​

- 通过端口号获取进程号

  ````shell
  方式一：
  netstat -tunlp|grep 6019

  ````
  netstat -tunlp用于显示tcp，udp的端口和进程等相关情况

  ![](https://github.com/zhangjinmiao/zhangjinmiao.github.io/raw/master/assets/images/2018/linux/1.png)

  ````shell
  方式二：
  lsof -i:6019
  ````
  lsof -i 用以显示符合条件的进程情况，lsof(list open files)是一个列出当前系统打开文件的工具。

  ![](https://github.com/zhangjinmiao/zhangjinmiao.github.io/raw/master/assets/images/2018/linux/2.png)

  ​

- 获取某个进程的网络端口号

  查看进程号为 20446 的端口号，如图箭头所指“6016”即是；方框显示的是该程序所调用的端口，包括 

  mongodb 的 27017，mysql (显示了别名，其实是3306)，rabbitmq 的amqp(其实是5672)

  ````shell
  netstat  -ap | grep 20446
  ````

  ![](https://github.com/zhangjinmiao/zhangjinmiao.github.io/raw/master/assets/images/2018/linux/3.png)

  ````shell
  不显示别名：
  netstat  -anp | grep 20446
  ````

  ![](https://github.com/zhangjinmiao/zhangjinmiao.github.io/raw/master/assets/images/2018/linux/4.png)

  ​

- 显示当前正在监听的服务名称

  ````shell
  netstat -tl
  ````

  ​

- 查看开启了哪些端口

  ````shell
  netstat -lntp 
  ````

  ![](https://github.com/zhangjinmiao/zhangjinmiao.github.io/raw/master/assets/images/2018/linux/5.png)

- 查看系统监听的端口

  ````shell
  netstat -na|grep -i listen 
  ````

  ![](https://github.com/zhangjinmiao/zhangjinmiao.github.io/raw/master/assets/images/2018/linux/6.png)

- 查看已建立的连接进程，所占用的端口

  ````shell
  netstat  -antup
  ````

  ![](https://github.com/zhangjinmiao/zhangjinmiao.github.io/raw/master/assets/images/2018/linux/7.png)

- 查看后台运行的进程总数

  ````shell
  ps  -ef|wc -l 
  ````

  ​

- ​

  ​